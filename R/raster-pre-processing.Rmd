---
title: "Run createPredStack for All Plotes"
subtitle: "Creating environmental raster stacks for all plots"
author: "Briana Barajas"
date: 2024-05-29
---

```{r packages, include=FALSE}
# wrangling
library(tidyverse)
library(here)
library(janitor)

# raster/geospatial
library(sf)
library(tmap)
library(terra)
library(spatialEco) #transform elev to hli

# set data directory
data_dir <- here("data", "CampRoberts_spatial_data")
end_path <- here("data", "raster-stacks", "select-variables")

# source in function
source(here("R", "raster-processing-function.R"))

```


## Create environmental rasters

```{r}
for (i in seq(1:8)) {
  createPredStack(plot_number = i,
                  data_dir = data_dir,
                  end_path = end_path)
}
```


## Load and view rasters
```{r}
for (i in seq(1:8)) {
  
  file_path <- paste0("predictor_stack_rast_p", i, ".tif")
  
  layer <- rast(here(end_path, file_path))
  
  assign(x = paste0("predictor_stack_rast_p", i),
         value = layer,
         envir = .GlobalEnv)
}
```




